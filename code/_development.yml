db:
  image: postgres
  volumes_from:
    - db_data
  environment:
    POSTGRES_PASSWORD: masterarbeit
    POSTGRES_USER: workflow_development_server
db_data:
  image: cogniteev/echo
  command: echo 'Data Container for PostgreSQL'
  volumes:
    - /var/lib/postgresql/data
app:
  image: development_app
  command: /app/start
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    - ~/.docker/machine/certs/:/root/.docker
  ports:
    - "3000:3000"
  environment:
    SERVICE_NAME: development_app
    SWARM_MANAGER_IP: $SWARM_MANAGER_IP
    SWARM_MANAGER_URL: tcp://$SWARM_MANAGER_IP:3376
    SWARM_MANAGER_CERT_PATH: '/root/.docker'
    POSTGRES_PASSWORD: masterarbeit
    POSTGRES_USER: workflow_development_server
